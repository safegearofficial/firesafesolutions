<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safe Weather Solutions</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
            color: #333;
        }
        header {
            background: #007BFF;
            color: #fff;
            padding: 20px;
            text-align: center;
        }
        nav {
            background: #0056b3;
            color: #fff;
            padding: 10px;
            text-align: center;
        }
        nav a {
            color: #fff;
            margin: 0 15px;
            text-decoration: none;
        }
        section {
            padding: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            padding: 10px;
            border: 1px solid #ddd;
        }
        th {
            background: #333;
            color: #fff;
        }
        footer {
            background: #333;
            color: #fff;
            padding: 10px;
            text-align: center;
        }
        .loading {
            text-align: center;
            padding: 20px;
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <header>
        <h1>Safe Weather Solutions</h1>
        <p>Your trusted source for wildfire updates and preparedness tips.</p>
    </header>

    <!-- Navigation Bar -->
    <nav>
        <a href="#wildfires">Wildfire Updates</a>
        <a href="#faq">FAQ</a>
        <a href="#tips">Preparedness Tips</a>
        <a href="#time">Time Zones</a>
    </nav>

    <!-- Wildfire Updates Section -->
    <section id="wildfires">
        <h2>Current Active Wildfires in California</h2>
        <div id="loading" class="loading">Loading wildfire data...</div>
        <table id="wildfire-table" style="display:none;">
            <thead>
                <tr>
                    <th>Fire Name</th>
                    <th>County</th>
                    <th>Acres Burned</th>
                    <th>Containment</th>
                    <th>Last Updated</th>
                </tr>
            </thead>
            <tbody id="wildfire-data"></tbody>
        </table>
    </section>

    <!-- FAQ Section -->
    <section id="faq">
        <h2>Frequently Asked Questions</h2>
        <h3>What should I do if I receive an evacuation order?</h3>
        <p>Evacuate immediately and follow the designated routes. Delaying can increase your risk.</p>
        <h3>How can I protect my home from wildfires?</h3>
        <p>Maintain defensible space by clearing vegetation, and use fire-resistant building materials.</p>
    </section>

    <!-- Preparedness Tips Section -->
    <section id="tips">
        <h2>Wildfire Preparedness Tips</h2>
        <ul>
            <li>Assemble an emergency kit with essentials like food, water, and medications.</li>
            <li>Sign up for local alert systems to stay informed.</li>
            <li>Create a wildfire action plan for your family.</li>
        </ul>
    </section>

    <!-- Time Zones Section -->
    <section id="time">
        <h2>Current Time in Major U.S. Cities</h2>
        <p><strong>Los Angeles (PST):</strong> <span id="time-la"></span></p>
        <p><strong>Chicago (CST):</strong> <span id="time-chi"></span></p>
        <p><strong>New York (EST):</strong> <span id="time-ny"></span></p>
    </section>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Safe Weather Solutions. All rights reserved.</p>
    </footer>

    <!-- JavaScript -->
    <script>
        // API URL for live wildfire data
        const apiUrl = 'https://incidents.fire.ca.gov/umbraco/api/IncidentApi/List';

        // Fetch and display wildfire data
        async function fetchWildfireData() {
            try {
                const response = await fetch(apiUrl);
                const data = await response.json();

                const tableBody = document.getElementById('wildfire-data');
                tableBody.innerHTML = ''; // Clear old rows

                data.forEach(fire => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${fire.Name || 'N/A'}</td>
                        <td>${fire.Counties || 'N/A'}</td>
                        <td>${fire.AcresBurned || '0'} acres</td>
                        <td>${fire.PercentContained || '0'}%</td>
                        <td>${fire.LastUpdated ? new Date(fire.LastUpdated).toLocaleString() : 'N/A'}</td>
                    `;
                    tableBody.appendChild(row);
                });

                document.getElementById('wildfire-table').style.display = 'table';
                document.getElementById('loading').style.display = 'none';
            } catch (error) {
                console.error('Error fetching wildfire data:', error);
                document.getElementById('loading').textContent = 'Failed to load wildfire data. Please try again later.';
            }
        }

        // Update time zones
        function updateTime() {
            const now = new Date();
            document.getElementById('time-la').textContent = now.toLocaleString('en-US', { timeZone: 'America/Los_Angeles' });
            document.getElementById('time-chi').textContent = now.toLocaleString('en-US', { timeZone: 'America/Chicago' });
            document.getElementById('time-ny').textContent = now.toLocaleString('en-US', { timeZone: 'America/New_York' });
        }

        // Initial data load
        fetchWildfireData();
        updateTime();

        // Set intervals for updates
        setInterval(fetchWildfireData, 600000); // Update wildfire data every 10 minutes
        setInterval(updateTime, 1000); // Update time every second
    </script>
</body>
</html>

